{"version":3,"sources":["context/AuthReducer.js","context/AuthContext.js","components/topbar/Topbar.jsx","components/sidebar/Sidebar.jsx","components/rightbar/Rightbar.jsx","components/share/Share.jsx","components/post/Post.jsx","components/feed/Feed.jsx","pages/home/Home.jsx","pages/login/Login.jsx","pages/profile/Profile.jsx","components/conversation/Conversation.jsx","components/Message/Message.jsx","components/chatOnline/ChatOnline.jsx","pages/messenger/Messenger.jsx","pages/register/Register.jsx","App.js","index.js"],"names":["AuthReducer","state","action","type","user","isFetching","error","payload","followings","filter","following","INITIAL_STATE","AuthContext","createContext","AuthContextProvider","children","useReducer","dispatch","Provider","value","Topbar","useContext","handleLogout","a","axios","get","data","Loggedout","window","location","reload","className","to","style","textDecoration","Search","placeholder","onClick","Person","Chat","Notifications","username","src","process","profilePicture","alt","Sidebar","RssFeed","PlayCircleFilledOutlined","Group","Bookmark","HelpOutline","WorkOutline","Event","School","Rightbar","currentuser","useState","Friends","setFriends","includes","_id","followed","setfollowed","useEffect","friends","console","log","fetchFriends","handleClick","put","userId","Home","ProfileRightbar","Remove","Add","from","city","relationship","map","friend","Share","desc","useRef","file","setfile","submitHandler","e","preventDefault","newPost","current","FormData","filename","Date","now","name","append","img","post","ref","URL","createObjectURL","Cancel","onSubmit","htmlFor","PermMedia","htmlColor","display","accept","id","onChange","target","files","Label","Room","EmojiEmotions","Post","setUser","likes","length","like","setLike","isLiked","setIsLiked","PF","result","fetchUser","likeHandler","format","createdAt","MoreVert","comment","Feed","posts","SetPosts","sort","p1","p2","fetchPosts","p","isLoggedin","setisLoggedin","res","Loggedin","message","checkifLoggedin","Login","history","useHistory","email","password","Submit","push","required","minLength","disabled","CircularProgress","color","Profile","params","useParams","coverPicture","Conversation","conversation","currentUser","setuser","friendId","members","find","getFriend","Message","own","text","ChatOnline","onlineusers","currentId","setcurrentChat","setfriends","onlineFriends","setonlineFriends","getFriends","userr","index","i","use","Messenger","conversations","setconversations","currentChat","newMessage","setnewMessage","messages","setmessages","arrivalMessage","setarrivalMessage","onlineUsers","setonlineUsers","Socket","scrollRef","getConversations","io","on","sender","senderId","emit","users","f","some","u","prev","getMessages","handleSubmit","conversationId","receiverId","member","scrollIntoView","behavior","c","m","Register","passwordAgain","setCustomValidity","App","defaults","withCredentials","userInfo","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.92562596.chunk.js","sourcesContent":["const AuthReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"LOGIN_START\":\r\n            return{\r\n                user: null,\r\n                isFetching: true,\r\n                error: false,\r\n            };\r\n        case \"LOGIN_SUCCESS\":\r\n            return{\r\n                user: action.payload,\r\n                isFetching: false,\r\n                error: false,\r\n            };\r\n        case \"LOGIN_FAILURE\":\r\n            return{\r\n                user: null,\r\n                isFetching: false,\r\n                error: action.payload,\r\n            };\r\n        case \"FOLLOW\":\r\n            return{\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    followings: [...state.user.followings, action.payload]\r\n                },\r\n            };\r\n            case \"UNFOLLOW\":\r\n            return{\r\n                ...state,\r\n                user: {\r\n                    ...state.user,\r\n                    followings: state.user.followings.filter((following) => following !== action.payload\r\n                    ),\r\n                },\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default AuthReducer;","import { createContext, useReducer, useEffect } from \"react\";\r\nimport AuthReducer from \"./AuthReducer\";\r\nconst INITIAL_STATE = {\r\n    // user: {\r\n    //   // id: \"60bf7a234e5fd0849c910b16\",\r\n    //   // username: \"musmaro\",\r\n    //   // email: \"musamusk22@gmail.com\",\r\n    //   // profilePicture: \"7.jpg\",\r\n    //   // coverPicture: \"tesla.jpg\",\r\n    //   // followers: [],\r\n    //   // followings: [],\r\n    // },\r\n    \r\n    user: null, //JSON.parse(localStorage.getItem(\"user\")) || null,\r\n    isFetching: false,\r\n    error: false,\r\n};\r\n\r\nexport const AuthContext = createContext(INITIAL_STATE);\r\n\r\nexport const AuthContextProvider = ({children}) => {\r\n    const [state, dispatch] = useReducer(AuthReducer, INITIAL_STATE);\r\n    \r\n    // useEffect(()=>{\r\n    //   localStorage.setItem(\"user\", JSON.stringify(state.user))\r\n    // },[state.user])\r\n\r\n    return (\r\n        <AuthContext.Provider \r\n          value={{\r\n            user: state.user,\r\n            isFetching: state.isFetching,\r\n            error:state.error,\r\n            dispatch,\r\n          }}\r\n        >\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}","import { Search, Person, Chat, Notifications } from \"@material-ui/icons\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport {useContext} from \"react\"\r\nimport \"./topbar.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nexport default function Topbar() {\r\n    const {user} = useContext(AuthContext)\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const handleLogout = async () =>{\r\n        const LoggedoutUser = await axios.get(\"https://musasocialapi.herokuapp.com/auth/logout\");\r\n        if (LoggedoutUser.data.Loggedout === true) {\r\n            window.location.reload();\r\n        }\r\n        \r\n        \r\n    }\r\n    return (\r\n        <div className=\"topbarContainer\">\r\n            <div className=\"topbarLeft\">\r\n                <Link to=\"/\" style={{textDecoration: \"none\"}}>\r\n                <span className=\"logo\">MusaSocial</span>\r\n                </Link>\r\n            </div>\r\n            <div className=\"topbarCenter\">\r\n                <div className=\"searchbar\">\r\n                    <Search />\r\n                    <input placeholder=\"Search for frind, post or video\" className=\"searchInput\" />\r\n                </div>\r\n            </div>\r\n            <div className=\"topbarRight\">\r\n                <div className=\"topbarLinks\">\r\n                    <span className=\"topbarLink\">Homepage</span>\r\n                    <span className=\"topbarLink\" onClick={handleLogout}>Logout</span>\r\n                </div>\r\n                <div className=\"topbarIcons\">\r\n                    <div className=\"topbarIconItem\">\r\n                        <Person/>\r\n                        <span className=\"topbarIconBadge\">1</span>\r\n                    </div>\r\n                    <div className=\"topbarIconItem\">\r\n                        <Chat/>\r\n                        <span className=\"topbarIconBadge\">2</span>\r\n                    </div>\r\n                    <div className=\"topbarIconItem\">\r\n                        <Notifications/>\r\n                        <span className=\"topbarIconBadge\">1</span>\r\n                    </div>\r\n                </div>\r\n                <Link to={`/profile/${user?.username}`}>\r\n                    <img src={PF + user?.profilePicture} alt=\"\" className=\"topbarimg\" />\r\n                </Link>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import \"./sidebar.css\"\r\nimport { RssFeed, Chat, PlayCircleFilledOutlined, Group, Bookmark, HelpOutline, WorkOutline, Event, School } from \"@material-ui/icons\";\r\nimport CloseFriend from \"../closefriend/CloseFriend\";\r\n\r\nexport default function Sidebar() {\r\n    return (\r\n        <div className=\"sidebar\">\r\n            <div className=\"sidebarWrapper\">\r\n                <ul className=\"sidebarList\">\r\n                    <li className=\"sidebarListItem\">\r\n                        <RssFeed className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">Feed</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Chat className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">Chats</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <PlayCircleFilledOutlined className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">Video</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Group className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">Groups</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Bookmark className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">BookMarks</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <HelpOutline className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">Questions</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <WorkOutline className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">Jobs</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <Event className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">Events</span>\r\n                    </li>\r\n                    <li className=\"sidebarListItem\">\r\n                        <School className=\"sidebarIcon\"/>\r\n                        <span className=\"sidebarListItemText\">Courses</span>\r\n                    </li>\r\n                </ul>\r\n                <button className=\"sidebarButton\">Show More</button>\r\n                <hr className=\"sidebarHr\" />\r\n                <ul className=\"sidebarFriendList\">\r\n                    {/* close friends component here */}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import \"./rightbar.css\"\r\nimport Online from \"../online/Online\";\r\nimport  axios  from \"axios\";\r\nimport { useEffect, useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Add, Remove } from \"@material-ui/icons\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Rightbar({user}) {\r\n    const {user:currentuser, dispatch} = useContext(AuthContext)\r\n    const [Friends, setFriends] = useState([])\r\n    const [followed, setfollowed] = useState(currentuser?.followings?.includes(user?._id))\r\n\r\n    useEffect(() => {\r\n        setfollowed(currentuser?.followings?.includes(user?._id));\r\n    }, [currentuser, user?._id])\r\n\r\n    useEffect(() => {\r\n        const fetchFriends = async () => {\r\n            try {\r\n                const friends = await axios.get(`https://musasocialapi.herokuapp.com/users/friends/${user?._id}`);\r\n                setFriends(friends.data)\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        fetchFriends();\r\n        \r\n    }, [user?._id])\r\n    const handleClick = async () =>{\r\n        try {\r\n            if (followed) {\r\n                await axios.put(\"https://musasocialapi.herokuapp.com/users/\" + user._id + \"/unfollow\", {userId: currentuser?._id});\r\n                dispatch({type: \"UNFOLLOW\", payload: user._id});\r\n            } \r\n            else {\r\n                await axios.put(\"https://musasocialapi.herokuapp.com/users/\" + user._id + \"/follow\", {userId: currentuser?._id});\r\n                dispatch({type: \"FOLLOW\", payload: user._id});\r\n                \r\n            }\r\n            setfollowed(!followed);\r\n        } \r\n        catch (error) {\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const Home = () =>{\r\n        return(\r\n            <>\r\n            <div className=\"birthdayContainer\">\r\n                    <img src=\"/assets/birthday.png\" alt=\"\" className=\"birthdayImg\" />\r\n                    <span className=\"birthdayText\">\r\n                        <b>Ahmed Adil</b> and <b>7 other Friends</b> have a birthday today\r\n                    </span>\r\n                </div>\r\n                <img src=\"/assets/tesla.jpg\" alt=\"\" className=\"rightbarAd\" />\r\n                <h4 className=\"rightbarTitle\">Online Friends</h4>\r\n                <ul className=\"rightbarFriendList\">\r\n                    {/* online componentr here */}\r\n                </ul>\r\n            </>\r\n        )\r\n    }\r\n\r\n    const ProfileRightbar = () =>{\r\n        return(\r\n            <>\r\n            {currentuser?.username !== user?.username &&(\r\n                <button className=\"rightbarFollowButton\" onClick={handleClick}>\r\n                    {followed? \"Unfollow\": \"Follow\"}\r\n                    {followed? <Remove/>: <Add/>}\r\n                </button>\r\n            )}\r\n            <h4 className=\"rightbarTitle\">User Information</h4>\r\n            <div className=\"rightbarInfo\">\r\n                <div className=\"rightbarInfoItem\">\r\n                    <span className=\"rightbarInfoKey\">From:</span>\r\n                    <span className=\"rightbarInfoValue\">{user.from}</span>\r\n                </div>\r\n                <div className=\"rightbarInfoItem\">\r\n                    <span className=\"rightbarInfoKey\">Live:</span>\r\n                    <span className=\"rightbarInfoValue\">{user.city}</span>\r\n                </div>\r\n                <div className=\"rightbarInfoItem\">\r\n                    <span className=\"rightbarInfoKey\">Relationship:</span>\r\n                    <span className=\"rightbarInfoValue\">{user.relationship}</span>\r\n                </div>\r\n            </div>\r\n            <h4 className=\"rightbarTitle\">User Friends</h4>\r\n            <div className=\"rightbarFollowings\">\r\n                {\r\n                    Friends.map((friend) => (\r\n                        <Link to={\"/profile/\" + friend.username} style={{textDecoration: \"none\"}}>\r\n                            <div className=\"rightbarFollowing\">\r\n                                <img src={PF + friend.profilePicture} alt=\"\" className=\"rightbarFollowingImg\" />\r\n                                <span className=\"rightbarFollowingName\">{friend?.username}</span>\r\n                            </div>\r\n                        </Link>\r\n                        \r\n                    ))\r\n                }\r\n            </div>\r\n            </>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"rightbar\">\r\n            <div className=\"rightbarWrapper\">\r\n                {user ? <ProfileRightbar/> : <Home/>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import \"./share.css\";\r\nimport { PermMedia, Label, Room, EmojiEmotions, Cancel } from \"@material-ui/icons\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport {useContext, useRef, useState} from \"react\"\r\nimport axios from \"axios\";\r\n\r\nexport default function Share() {\r\n    const {user} = useContext(AuthContext)\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const desc = useRef();\r\n    const [file, setfile] = useState(null)\r\n\r\n    const submitHandler = async(e) =>{\r\n        e.preventDefault()\r\n        const newPost = {\r\n            userId: user._id,\r\n            desc: desc.current.value? desc.current.value : \" \" \r\n        }\r\n        if (file) {\r\n            const data = new FormData();\r\n            const filename = Date.now() + file.name\r\n            data.append(\"name\", filename);\r\n            data.append(\"file\", file);\r\n            \r\n            newPost.img = filename;\r\n            try {\r\n                await axios.post(\"https://musasocialapi.herokuapp.com/upload\", data)\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n        try {\r\n            await axios.post(\"https://musasocialapi.herokuapp.com/post\", newPost)\r\n            window.location.reload();\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n        \r\n    }\r\n\r\n    return (\r\n        <div className=\"share\">\r\n            <div className=\"shareWrapper\">\r\n                <div className=\"shareTop\">\r\n                    <img src= {PF + user?.profilePicture} alt=\"\" className=\"shareProfileImg\" />\r\n                    <input ref={desc} placeholder={\"What's in your mind \" + user?.username} className=\"shareInput\" />\r\n                </div>\r\n                <hr className=\"shareHr\" />\r\n                {file &&(\r\n                    <div className=\"shareImgContainer\">\r\n                        <img src={URL.createObjectURL(file)} alt=\"\" className=\"shareImg\"/>\r\n                        <Cancel className=\"shareImageCancel\" onClick={() => {setfile(null)}}/>\r\n                    </div>\r\n                )}\r\n                <form className=\"shareBottom\" onSubmit={submitHandler}>\r\n                    <div className=\"shareOptions\">\r\n                        <label htmlFor=\"file\" className=\"shareOption\">\r\n                            <PermMedia className=\"shareIcon\" htmlColor=\"tomato\"/>\r\n                            <span className=\"shareOptionText\">Photo or Video</span>\r\n                            <input type=\"file\" style={{display: \"none\"}} accept=\".png,.jpg,.jpeg\" id=\"file\" onChange={(e)=>{setfile(e.target.files[0])}}/>\r\n                        </label>\r\n                        <div className=\"shareOption\">\r\n                            <Label className=\"shareIcon\" htmlColor=\"blue\"/>\r\n                            <span className=\"shareOptionText\">Tag</span>\r\n                        </div>\r\n                        <div className=\"shareOption\">\r\n                            <Room className=\"shareIcon\" htmlColor=\"green\"/>\r\n                            <span className=\"shareOptionText\">Location</span>\r\n                        </div>\r\n                        <div className=\"shareOption\">\r\n                            <EmojiEmotions className=\"shareIcon\" htmlColor=\"goldenrod\"/>\r\n                            <span className=\"shareOptionText\">Feelings</span>\r\n                        </div>\r\n                    </div>\r\n                    <button className=\"shareButton\" type=\"submit\">Share</button>\r\n                </form>\r\n            </div>            \r\n        </div>\r\n    )\r\n}\r\n","import \"./post.css\"\r\nimport { MoreVert } from \"@material-ui/icons\";\r\nimport  axios  from \"axios\";\r\nimport { format } from \"timeago.js\";\r\nimport { useEffect, useState, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Post({post}) {\r\n    const {user:currentuser} = useContext(AuthContext)\r\n    const [user, setUser] = useState({})\r\n    const [like, setLike] = useState(post.likes.length)\r\n    const [isLiked, setIsLiked] = useState(false)\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    \r\n    useEffect(() =>{\r\n        setIsLiked(post.likes.includes(currentuser._id));\r\n    }, [currentuser?._id, post.likes]);\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async () =>{\r\n            const result = await axios.get(`https://musasocialapi.herokuapp.com/users?userId=${post.userId}`);\r\n            setUser(result.data)\r\n            \r\n        };\r\n        fetchUser();\r\n    }, []);\r\n\r\n    const likeHandler = () =>{\r\n        try {\r\n            axios.put(\"https://musasocialapi.herokuapp.com/post/\" + post._id + \"/like\", {userId: currentuser._id})\r\n            console.log(\"post liked........\")\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n        setLike(isLiked ? like - 1 : like + 1)\r\n        setIsLiked(!isLiked)\r\n    }\r\n\r\n    return (\r\n        <div className=\"post\">\r\n            <div className=\"postWrapper\">\r\n                <div className=\"postTop\"> \r\n                    <div className=\"postTopLeft\">\r\n                    <Link to={`profile/${user?.username}`}>\r\n                        <img src={ user.profilePicture? PF + user?.profilePicture : PF+\"nopfp.png\"} alt=\"\" className=\"postProfileImg\" />\r\n                    </Link>\r\n                        <span className=\"postUsername\">{user?.username}</span>\r\n                        <span className=\"postDate\">{format(post.createdAt)}</span>\r\n                    </div>\r\n                    <div className=\"postTopRight\">\r\n                        <MoreVert/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"postCenter\">\r\n                    <span className=\"postText\">{post?.desc}</span>\r\n                    <img src={PF+post.img} alt=\"\" className=\"postImg\" />\r\n                </div>\r\n                <div className=\"postBottom\">\r\n                    <div className=\"postBottomLeft\">\r\n                        <img src=  {PF + \"like.png\"}  alt=\"\" className=\"likeIcon\" onClick={likeHandler}/>\r\n                        <img src={PF + \"heart1.png\"} alt=\"\" className=\"likeIcon\" onClick={likeHandler}/>\r\n                        <span className=\"postLikeCounter\">{like}</span>\r\n                    </div>\r\n                    <div className=\"postBottomRight\">\r\n                        <span className=\"postCommentText\">{post.comment} Comments</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import \"./feed.css\"\r\nimport Share from \"../share/Share\";\r\nimport Post from \"../post/Post\";\r\nimport  axios  from \"axios\";\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Feed({username}) {\r\n    const {user} = useContext(AuthContext)\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n\r\nconst [posts, SetPosts] = useState([]);\r\n    \r\n    useEffect(() => {\r\n        const fetchPosts = async () =>{\r\n            const result = username? await axios.get(`https://musasocialapi.herokuapp.com/post/profile/${username}`) : await axios.get(`/post/timeline/${user?._id}`)\r\n            SetPosts(result.data.sort((p1, p2) =>{\r\n                return new Date(p2.createdAt) - new Date(p1.createdAt);\r\n            }));\r\n        };\r\n        fetchPosts();\r\n    }, [username, user?._id])\r\n\r\n    return (\r\n        <div className=\"feed\">\r\n            <div className=\"feedWrapper\">\r\n                {(!username || username === user.username) &&<Share/>}\r\n                {posts.map(p=> (\r\n                    <Post key={p._id} post={p}/>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import Topbar from \"../../components/topbar/Topbar\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport Rightbar from \"../../components/rightbar/Rightbar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\nimport \"./home.css\";\r\nimport { useEffect, useState, useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Home() {\r\n    const [isLoggedin, setisLoggedin] = useState(true)\r\n    const{user, isFetching, error, dispatch} = useContext(AuthContext);\r\n    \r\n    useEffect(() => {\r\n        const checkifLoggedin = async () =>{\r\n            dispatch({type: \"LOGIN_START\"});\r\n            try {\r\n                const res = await axios.get(\"https://musasocialapi.herokuapp.com/auth/login\");\r\n                if (res.data.Loggedin === true) {\r\n                    setisLoggedin(true)\r\n                    dispatch({type: \"LOGIN_SUCCESS\", payload: res.data.message});\r\n                }\r\n                else{\r\n                    setisLoggedin(false);\r\n                }\r\n            } \r\n            catch (error) {\r\n                setisLoggedin(false);\r\n                dispatch({type: \"LOGIN_FAILURE\", payload: error});    \r\n             }\r\n            }\r\n        checkifLoggedin();\r\n        \r\n    }, [])\r\n\r\n    if (!isLoggedin) {\r\n        return <Redirect to=\"/login\" />\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Topbar/>\r\n        <div className=\"homeContainer\">\r\n            <Sidebar/>\r\n            <Feed/>\r\n            <Rightbar/>\r\n        </div>\r\n        \r\n        </>\r\n    )\r\n}\r\n","import { useContext, useRef } from \"react\"\r\nimport \"./login.css\"\r\nimport {loginCall} from \"../../apiCalls\"\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nexport default function Login() {\r\n    const history = useHistory();\r\n    const email = useRef();\r\n    const password = useRef();\r\n    const{user, isFetching, error, dispatch} = useContext(AuthContext);\r\n    \r\n    const Submit = async (e) => {\r\n        e.preventDefault();\r\n        dispatch({type: \"LOGIN_START\"});\r\n        try {\r\n            const res = await axios.post(\"https://musasocialapi.herokuapp.com/auth/login\", {email: email.current.value, password: password.current.value});\r\n            dispatch({type: \"LOGIN_SUCCESS\", payload: res.data});\r\n            history.push(\"/\")\r\n        \r\n        } catch (error) {\r\n            dispatch({type: \"LOGIN_FAILURE\", payload: error});\r\n            console.log(error)\r\n        }\r\n        // loginCall({email: email.current.value, password: password.current.value}, dispatch)\r\n    };\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"loginWrapper\">\r\n                <div className=\"loginLeft\">\r\n                    <h3 className=\"loginLogo\">MusaSocial</h3>\r\n                    <span className=\"loginDesc\">Connect with Friends That You Dont Have :)</span>\r\n                </div>\r\n                <div className=\"loginRight\">\r\n                    <form className=\"loginBox\" onSubmit={Submit}>\r\n                        <input placeholder=\"Email\" className=\"loginInput\" ref={email} required type=\"email\"/>\r\n                        <input placeholder=\"Password\" className=\"loginInput\" minLength=\"6\" ref={password} required type=\"password\"/>\r\n                        <button className=\"loginButton\" disabled={isFetching}>{isFetching? <CircularProgress color=\"white\"/> : \"Login\"}</button>\r\n                        <span className=\"loginForgot\">Forgot Password</span>\r\n                        <button className=\"loginRegisterButton\">{isFetching? <CircularProgress color=\"white\"/> : \"Create Account\"}</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import \"./profile.css\"\r\nimport Topbar from \"../../components/topbar/Topbar\";\r\nimport Sidebar from \"../../components/sidebar/Sidebar\";\r\nimport Rightbar from \"../../components/rightbar/Rightbar\";\r\nimport Feed from \"../../components/feed/Feed\";\r\nimport { useEffect, useState, useContext} from \"react\"\r\nimport  axios  from \"axios\";\r\nimport { useParams } from \"react-router\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nexport default function Profile() {\r\n    const [user, setUser] = useState()\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const params = useParams().username;\r\n    const [isLoggedin, setisLoggedin] = useState(true)\r\n    const{dispatch} = useContext(AuthContext);\r\n    \r\n    useEffect(() => {\r\n        const checkifLoggedin = async () =>{\r\n            dispatch({type: \"LOGIN_START\"});\r\n            try {\r\n                const res = await axios.get(\"/auth/login\");\r\n                if (res.data.Loggedin === true) {\r\n                    setisLoggedin(true)\r\n                    dispatch({type: \"LOGIN_SUCCESS\", payload: res.data.message});\r\n                }\r\n                else{\r\n                    setisLoggedin(false);\r\n                }\r\n            } \r\n            catch (error) {\r\n                setisLoggedin(false);\r\n                dispatch({type: \"LOGIN_FAILURE\", payload: error});    \r\n             }\r\n            }\r\n        checkifLoggedin();\r\n        \r\n    }, [])\r\n\r\n    \r\n\r\n    useEffect(() => {\r\n        if (isLoggedin) {\r\n            const fetchUser = async () =>{\r\n                const result = await axios.get(`/users?username=${params}`);\r\n                setUser(result.data)\r\n            };\r\n            fetchUser();\r\n        }\r\n    }, [params])\r\n\r\n    if (!isLoggedin) {\r\n        return  <Redirect to=\"/login\" />\r\n    }\r\n\r\n    if (user) {\r\n        return(\r\n            <>\r\n        <Topbar/>\r\n        <div className=\"profile\">\r\n            <Sidebar/>\r\n            <div className=\"profileRight\">\r\n                <div className=\"profileRightTop\">\r\n                    <div className=\"profileCover\">\r\n                        <img src={user.coverPicture? PF + user.coverPicture : PF + \"nopfp.jpg\"} alt=\"\" className=\"profileCoverImg\" />\r\n                        <img src={user.profilePicture? PF + user.profilePicture : PF + \"nopfp.jpg\"} alt=\"\" className=\"profileUserImg\" />\r\n                    </div>\r\n                    <div className=\"profileInfo\">\r\n                        <h4 className=\"profileInfoName\">{user?.username}</h4>\r\n                        <span className=\"profileInfoDesc\">{user?.desc}</span>\r\n                    </div>\r\n                </div>\r\n                <div className=\"profileRightBottom\">\r\n                    <Feed username={user?.username}/>\r\n                    <Rightbar user={user}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n        )\r\n        \r\n    } else {\r\n        return (\r\n                <div className=\"\">\r\n                    <Topbar/>\r\n                    <div className=\"usernotFoundParent\">\r\n                        <h4 className=\"usernotFound\">User Was Not Found!!</h4>\r\n                    </div>\r\n                </div>\r\n                \r\n                \r\n            )\r\n    }\r\n    \r\n}\r\n","import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport \"./conversation.css\"\r\n\r\nexport default function Conversation({conversation, currentUser}) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const [user, setuser] = useState(null);\r\n    useEffect(() =>{\r\n        const friendId = conversation.members.find(id => id !== currentUser?._id)\r\n        const getFriend = async () =>{\r\n            try {\r\n                const friend = await axios.get(\"/users?userId=\" + friendId)\r\n                setuser(friend.data)\r\n             } \r\n             catch (error) {\r\n                 console.log(error)\r\n             }\r\n        }\r\n        getFriend();\r\n    },[currentUser, conversation])\r\n    return (\r\n        <div className=\"conversation\">\r\n            <img src={user?.profilePicture ? PF + user.profilePicture : PF + \"nopfp.jpg\" } alt=\"\" className=\"conversationImg\" />\r\n            <span className=\"conversationName\">{user?.username}</span>\r\n        </div>\r\n    )\r\n}\r\n","import { format } from \"timeago.js\"\r\nimport \"./message.css\"\r\n\r\nexport default function Message({own, message}) {\r\n    return (\r\n        <div className={own? \"message own\" : \"message\"}>\r\n            <div className=\"messageTop\">\r\n                <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTEpOB50Gf-839DMNoHRlYYBAWP0TN73RHsGg&usqp=CAU\" alt=\"\" className=\"messageImg\" />\r\n                <p className=\"messageText\"> {message?.text}</p>\r\n            </div>\r\n            <div className=\"messageBottom\">\r\n                {format(message?.createdAt)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import axios from \"axios\"\r\nimport { useEffect, useState } from \"react\";\r\nimport \"./chatonline.css\"\r\n\r\nexport default function ChatOnline({onlineusers, currentId, setcurrentChat}) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const [friends, setfriends] = useState(null)\r\n    const [onlineFriends, setonlineFriends] = useState([])\r\n    useEffect(() => {\r\n        const getFriends = async () =>{\r\n            try {\r\n                const res = await axios.get(\"/users/friends/\" + currentId)\r\n                setfriends(res.data)\r\n            } \r\n            catch (error) {\r\n                console.log(error)\r\n            }\r\n        }\r\n        getFriends();\r\n        \r\n    }, [currentId])\r\n\r\n    const handleClick = async (userr) => {\r\n        try {\r\n            const res = await axios.get(`/conversations/find/${currentId}/${userr._id}`)\r\n            console.log(res)\r\n            setcurrentChat(res.data)\r\n        } \r\n        catch (error) {\r\n           console.log(error) \r\n        }\r\n    }\r\n    \r\n    useEffect(() => {\r\n        setonlineFriends([]);\r\n        for (let index = 0; index < onlineusers?.length; index++) {\r\n            for (let i = 0; i < friends?.length; i++) {\r\n                if (onlineusers[index] === friends[i]._id) {\r\n                    setonlineFriends([...onlineFriends, friends[i]])\r\n                }\r\n            }\r\n        }\r\n    }, [friends, onlineusers])\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"chatOnline\">\r\n            {onlineFriends?.map((use) => (\r\n                <div className=\"chatOnlineFriend\" onClick={() => handleClick(use)}>\r\n                <div className=\"chatOnlineImgContainer\">\r\n                    <img className=\"chatOnlineImg\" src={PF + use?.profilePicture} alt=\"\" />\r\n                    <div className=\"chatOnlineBadge\"></div>\r\n                </div>\r\n                <span className=\"chatOnlineName\">{use?.username}</span>\r\n            </div>\r\n            ))}\r\n        </div>\r\n    )\r\n}\r\n","import './messenger.css'\r\nimport Topbar from \"../../components/topbar/Topbar\";\r\nimport Conversation from \"../../components/conversation/Conversation\";\r\nimport Message from \"../../components/Message/Message\";\r\nimport ChatOnline from \"../../components/chatOnline/ChatOnline\";\r\nimport { useContext, useState, useEffect, useRef } from 'react';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport axios from \"axios\"\r\nimport { io } from \"socket.io-client\";\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nexport default function Messenger() {\r\n    const [conversations, setconversations] = useState([])\r\n    const [currentChat, setcurrentChat] = useState(null)\r\n    const [newMessage, setnewMessage] = useState(null)\r\n    const [messages, setmessages] = useState(null)\r\n    const [arrivalMessage, setarrivalMessage] = useState(null)\r\n    const [onlineUsers, setonlineUsers] = useState([])\r\n    const Socket = useRef()\r\n    const scrollRef = useRef()\r\n    const [isLoggedin, setisLoggedin] = useState(true)\r\n    const{user, dispatch} = useContext(AuthContext);\r\n    \r\n    useEffect(() => {\r\n        const checkifLoggedin = async () =>{\r\n            dispatch({type: \"LOGIN_START\"});\r\n            try {\r\n                const res = await axios.get(\"/auth/login\");\r\n                if (res.data.Loggedin === true) {\r\n                    \r\n                    dispatch({type: \"LOGIN_SUCCESS\", payload: res.data.message});\r\n                    setisLoggedin(true)\r\n                }\r\n                else{\r\n                    setisLoggedin(false);\r\n                }\r\n            } \r\n            catch (error) {\r\n                setisLoggedin(false);\r\n                dispatch({type: \"LOGIN_FAILURE\", payload: error});    \r\n             }\r\n            }\r\n        checkifLoggedin();\r\n        \r\n    }, [])\r\n\r\n    \r\n    useEffect(() => {\r\n        if (isLoggedin) {\r\n            const getConversations = async () =>{\r\n                try {\r\n                    const res = await axios.get(\"/conversations/\" + user?._id)\r\n                    setconversations(res.data)\r\n                }\r\n                catch (error) {\r\n                    console.log(error)\r\n                }\r\n            }\r\n            getConversations();\r\n        }\r\n        \r\n    }, [user?._id])\r\n\r\n    useEffect(() => {\r\n        if (isLoggedin) {\r\n            Socket.current = io(\"ws://localhost:8900\");\r\n            Socket.current.on(\"getMessage\", data => {\r\n            setarrivalMessage({\r\n                sender: data.senderId,\r\n                text: data.text,\r\n                createdAt: Date.now(),\r\n            })\r\n        })\r\n        }\r\n    }, [])\r\n    \r\n    useEffect(() => {\r\n        if (isLoggedin) {\r\n            Socket.current.emit(\"addUser\", user?._id)\r\n            Socket.current.on(\"getUsers\", (users) => {setonlineUsers(user?.followings.filter((f) => users.some((u) => u.userId === f))); console.log(users)})\r\n        }\r\n        \r\n    }, [user])\r\n    \r\n    useEffect(() => {\r\n        if (isLoggedin) {\r\n            arrivalMessage && currentChat?.members.includes(arrivalMessage.sender) && setmessages((prev) => [...prev, arrivalMessage])\r\n        }\r\n    }, [arrivalMessage, currentChat])\r\n\r\n    useEffect(() => {\r\n        if (isLoggedin) {\r\n            const getMessages = async () =>{\r\n                try {\r\n                    const res = await axios.get(\"/messages/\" + currentChat?._id)\r\n                    setmessages(res.data)\r\n                } \r\n                catch (error) {\r\n                    console.log(error)\r\n                }\r\n            }\r\n            getMessages();\r\n        }\r\n        \r\n\r\n    },[currentChat])\r\n\r\n   \r\n\r\n    const handleSubmit = async (e) =>{\r\n        e.preventDefault();\r\n        const message = {\r\n            sender: user?._id,\r\n            text: newMessage,\r\n            conversationId: currentChat._id\r\n        }\r\n        \r\n        const receiverId = currentChat.members.find(member => member !== user?._id)\r\n        Socket.current.emit(\"sendMessage\", \r\n        {   \r\n            senderId: user?._id, \r\n            receiverId: receiverId, \r\n            text: newMessage\r\n        })\r\n        setnewMessage(\"\");\r\n        try {\r\n            const res = await axios.post(\"/messages\", message)\r\n            setmessages([...messages , res.data])\r\n        } \r\n        catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        scrollRef.current?.scrollIntoView({behavior: \"smooth\"})\r\n    }, [messages])\r\n\r\n    if (!isLoggedin) {\r\n        return <Redirect to=\"/login\" />\r\n    }\r\n\r\n    \r\n    return (\r\n        <>\r\n        <Topbar/>\r\n        <div className=\"messenger\">\r\n            <div className=\"chatMenu\">\r\n                <div className=\"chatMenuWrapper\">\r\n                    <input placeholder=\"Search for Friends\" className=\"chatMenuInput\" />\r\n                    {\r\n                        conversations.map((c) => (\r\n                            <div className=\"\" onClick={() => setcurrentChat(c)}>\r\n                                <Conversation conversation={c} currentUser={user}/>\r\n                            </div>\r\n                            \r\n                        ))\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className=\"chatBox\">\r\n                <div className=\"chatBoxWrapper\">\r\n                    {\r\n                        currentChat?<><div className=\"chatBoxTop\">\r\n                            \r\n                        {\r\n                            messages.map((m) => (\r\n                                <div ref={scrollRef}>\r\n                                    <Message own={m?.sender === user?._id} message={m} />\r\n                                </div>\r\n                                \r\n                            ))\r\n                        }\r\n                        \r\n                    </div>\r\n                    <div className=\"chatBoxBottom\">\r\n                    <textarea placeholder=\"Write Something...\" className=\"chatMessageInput\" onChange={(e) => setnewMessage(e.target.value)} value={newMessage}></textarea>\r\n                    <button className=\"chatSubmitButton\" onClick={handleSubmit}>Send</button>\r\n                    </div>\r\n                    </>\r\n                    : <span className=\"noConversationText\">Open a Convo to start Chatting</span>\r\n                    }\r\n                    \r\n                </div>\r\n            </div>\r\n            <div className=\"chatOnline\">\r\n                <div className=\"chatOnlineWrapper\">\r\n                    <ChatOnline onlineusers={onlineUsers} currentId={user?._id} setcurrentChat={setcurrentChat}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n    \r\n}\r\n\r\n","import \"./register.css\"\r\nimport { useRef } from \"react\"\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router\";\r\n\r\nexport default function Register() {\r\n    const username = useRef();\r\n    const email = useRef();\r\n    const password = useRef();\r\n    const passwordAgain = useRef();\r\n    const history = useHistory();\r\n\r\n    const handleClick = async (e) =>{\r\n        e.preventDefault();\r\n        if (passwordAgain.current.value === password.current.value) {\r\n            const user = {\r\n                username: username.current.value,\r\n                password: password.current.value,\r\n                email: email.current.value,\r\n            }\r\n            try {\r\n                await axios.post(\"/auth/register\",user)\r\n                console.log(\"succefull registeration\")\r\n                history.push(\"/login\")\r\n            } catch (error) {\r\n                console.log(error)\r\n            }\r\n            \r\n        } else {\r\n            \r\n            password.current.setCustomValidity(\"Passwords do not match!\")\r\n            console.log(\"password qwndara\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"loginWrapper\">\r\n                <div className=\"loginLeft\">\r\n                    <h3 className=\"loginLogo\">MusaSocial</h3>\r\n                    <span className=\"loginDesc\">Connect with Friends That You Dont Have :)</span>\r\n                </div>\r\n                <div className=\"loginRight\">\r\n                    <form className=\"loginBox\" onSubmit={handleClick}>\r\n                        <input placeholder=\"UserName\"  ref={username} className=\"loginInput\" required/>\r\n                        <input placeholder=\"Email\" type=\"email\" ref={email} className=\"loginInput\" required/>\r\n                        <input placeholder=\"Password\" type=\"password\" minLength=\"6\" ref={password} className=\"loginInput\" required/>\r\n                        <input placeholder=\"Password Again\" type=\"password\" minLength=\"6\" ref={passwordAgain} className=\"loginInput\" required/>\r\n                        <button className=\"loginButton\" type=\"submit\">SignUp</button>\r\n                        <button className=\"loginRegisterButton\">Log Into Account</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import Home from \"./pages/home/Home\";\r\nimport Login from \"./pages/login/Login\";\r\nimport Profile from \"./pages/profile/Profile\";\r\nimport Messenger from \"./pages/messenger/Messenger\";\r\nimport Register from \"./pages/register/Register\";\r\nimport { useContext, useEffect, useState } from \"react\";\r\nimport { AuthContext } from \"./context/AuthContext\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\n\r\nfunction App() {\r\n  axios.defaults.withCredentials = true;\r\n\r\n  const [User, setUser] = useState(null)\r\n\r\n  useEffect(async () => {\r\n    const userInfo = axios.get(\"https://musasocialapi.herokuapp.com/user/getuser\")\r\n    setUser(userInfo.data)\r\n  }, [])\r\n\r\n  const {user} = useContext(AuthContext)\r\n  return (\r\n    // <Router>\r\n    //   <Switch>\r\n    //     <Route exact path=\"/\">\r\n    //       {user? <Home/>: <Login/>}\r\n    //     </Route>\r\n    //     <Route path=\"/login\">\r\n    //       {user? <Redirect to=\"/\"/> : <Login/>}\r\n    //     </Route>\r\n    //     <Route path=\"/register\">\r\n    //       {user? <Redirect to=\"/\"/>: <Register/>}\r\n    //     </Route>\r\n    //     <Route path=\"/profile/:username\">\r\n    //       {user? <Profile/> : <Login/>}\r\n    //     </Route>\r\n    //     <Route exact path=\"/messenger\">\r\n    //       {!user? <Redirect to=\"/\"/>: <Messenger/>}\r\n    //     </Route>\r\n    //   </Switch>\r\n    // </Router>\r\n    <Router>\r\n      <Switch>\r\n        <Route exact path=\"/\">\r\n          <Home/>\r\n        </Route>\r\n        <Route path=\"/login\">\r\n          <Login/>\r\n        </Route>\r\n        <Route path=\"/register\">\r\n          <Register/>\r\n        </Route>\r\n        <Route path=\"/profile/:username\">\r\n         <Profile/>\r\n        </Route>\r\n        <Route exact path=\"/messenger\">\r\n          <Messenger/>\r\n        </Route>\r\n      </Switch>\r\n    </Router>\r\n    \r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { AuthContextProvider } from \"./context/AuthContext\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AuthContextProvider>\r\n      <App />\r\n    </AuthContextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}