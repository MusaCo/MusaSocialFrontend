{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/musli/Desktop/mern MusaSocial/React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/musli/Desktop/mern MusaSocial/React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/musli/Desktop/mern MusaSocial/React/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import axios from\"axios\";import{useEffect,useState}from\"react\";import\"./conversation.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Conversation(_ref){var conversation=_ref.conversation,currentUser=_ref.currentUser;var PF=process.env.REACT_APP_PUBLIC_FOLDER;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setuser=_useState2[1];useEffect(function(){var friendId=conversation.members.find(function(id){return id!==(currentUser===null||currentUser===void 0?void 0:currentUser._id);});var getFriend=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var friend;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/users?userId=\"+friendId);case 3:friend=_context.sent;setuser(friend.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getFriend(){return _ref2.apply(this,arguments);};}();getFriend();},[currentUser,conversation]);return/*#__PURE__*/_jsxs(\"div\",{className:\"conversation\",children:[/*#__PURE__*/_jsx(\"img\",{src:(user===null||user===void 0?void 0:user.profilePicture)?PF+user.profilePicture:PF+\"nopfp.jpg\",alt:\"\",className:\"conversationImg\"}),/*#__PURE__*/_jsx(\"span\",{className:\"conversationName\",children:user===null||user===void 0?void 0:user.username})]});}","map":{"version":3,"sources":["C:/Users/musli/Desktop/mern MusaSocial/React/src/components/conversation/Conversation.jsx"],"names":["axios","useEffect","useState","Conversation","conversation","currentUser","PF","process","env","REACT_APP_PUBLIC_FOLDER","user","setuser","friendId","members","find","id","_id","getFriend","get","friend","data","console","log","profilePicture","username"],"mappings":"seAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,MAAO,oBAAP,C,wFAEA,cAAe,SAASC,CAAAA,YAAT,MAAmD,IAA5BC,CAAAA,YAA4B,MAA5BA,YAA4B,CAAdC,WAAc,MAAdA,WAAc,CAC9D,GAAMC,CAAAA,EAAE,CAAGC,OAAO,CAACC,GAAR,CAAYC,uBAAvB,CACA,cAAwBP,QAAQ,CAAC,IAAD,CAAhC,wCAAOQ,IAAP,eAAaC,OAAb,eACAV,SAAS,CAAC,UAAK,CACX,GAAMW,CAAAA,QAAQ,CAAGR,YAAY,CAACS,OAAb,CAAqBC,IAArB,CAA0B,SAAAC,EAAE,QAAIA,CAAAA,EAAE,IAAKV,WAAL,SAAKA,WAAL,iBAAKA,WAAW,CAAEW,GAAlB,CAAN,EAA5B,CAAjB,CACA,GAAMC,CAAAA,SAAS,2FAAG,oLAEWjB,CAAAA,KAAK,CAACkB,GAAN,CAAU,iBAAmBN,QAA7B,CAFX,QAEJO,MAFI,eAGVR,OAAO,CAACQ,MAAM,CAACC,IAAR,CAAP,CAHU,+EAMTC,OAAO,CAACC,GAAR,cANS,oEAAH,kBAATL,CAAAA,SAAS,2CAAf,CASAA,SAAS,GACZ,CAZQ,CAYP,CAACZ,WAAD,CAAcD,YAAd,CAZO,CAAT,CAaA,mBACI,aAAK,SAAS,CAAC,cAAf,wBACI,YAAK,GAAG,CAAE,CAAAM,IAAI,OAAJ,EAAAA,IAAI,SAAJ,QAAAA,IAAI,CAAEa,cAAN,EAAuBjB,EAAE,CAAGI,IAAI,CAACa,cAAjC,CAAkDjB,EAAE,CAAG,WAAjE,CAA+E,GAAG,CAAC,EAAnF,CAAsF,SAAS,CAAC,iBAAhG,EADJ,cAEI,aAAM,SAAS,CAAC,kBAAhB,UAAoCI,IAApC,SAAoCA,IAApC,iBAAoCA,IAAI,CAAEc,QAA1C,EAFJ,GADJ,CAMH","sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport \"./conversation.css\"\r\n\r\nexport default function Conversation({conversation, currentUser}) {\r\n    const PF = process.env.REACT_APP_PUBLIC_FOLDER;\r\n    const [user, setuser] = useState(null);\r\n    useEffect(() =>{\r\n        const friendId = conversation.members.find(id => id !== currentUser?._id)\r\n        const getFriend = async () =>{\r\n            try {\r\n                const friend = await axios.get(\"/users?userId=\" + friendId)\r\n                setuser(friend.data)\r\n             } \r\n             catch (error) {\r\n                 console.log(error)\r\n             }\r\n        }\r\n        getFriend();\r\n    },[currentUser, conversation])\r\n    return (\r\n        <div className=\"conversation\">\r\n            <img src={user?.profilePicture ? PF + user.profilePicture : PF + \"nopfp.jpg\" } alt=\"\" className=\"conversationImg\" />\r\n            <span className=\"conversationName\">{user?.username}</span>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}